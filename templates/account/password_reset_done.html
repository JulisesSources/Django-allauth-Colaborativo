<!-- templates/account/password_reset_done.html -->
{% extends user.is_authenticated|yesno:'base.html,base_auth.html' %}
{% load static %}

{% block title %}Correo Enviado - SCA-B123{% endblock %}

{% block content %}
{% if user.is_authenticated %}
<!-- Version para usuario autenticado -->
<div class="max-w-2xl mx-auto space-y-6">
    <!-- Success Banner -->
    <div class="bg-gradient-to-r from-green-500 to-green-600 rounded-xl shadow-lg overflow-hidden relative">
        <div class="absolute inset-0 bg-white/10 backdrop-blur-sm opacity-10"></div>
        <div class="relative z-10 px-8 py-10 flex items-center gap-6">
            <div class="w-16 h-16 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm">
                <i class="fas fa-check-circle text-4xl text-white"></i>
            </div>
            <div class="text-white">
                <h1 class="text-3xl font-bold mb-1">¡Correo Enviado Exitosamente!</h1>
                <p class="text-green-100 text-sm">
                    Revisa tu bandeja de entrada para continuar
                </p>
            </div>
        </div>

        <!-- Decorative circles -->
        <div class="absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-white/10 rounded-full blur-2xl"></div>
        <div class="absolute bottom-0 left-0 -mb-10 -ml-10 w-40 h-40 bg-white/10 rounded-full blur-2xl"></div>
    </div>

    <!-- Content Card -->
    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden">
        <div class="p-8 text-center space-y-6">
            <!-- Icon -->
            <div class="flex justify-center">
                <div class="w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center">
                    <i class="fas fa-envelope-open-text text-3xl text-green-600 dark:text-green-400"></i>
                </div>
            </div>

            <!-- Message -->
            <div>
                <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-3">
                    Instrucciones Enviadas
                </h2>
                <p class="text-gray-600 dark:text-gray-400 mb-2">
                    Hemos enviado las instrucciones para restablecer tu contraseña a tu correo electrónico.
                </p>
                <p class="text-sm text-gray-500 dark:text-gray-500">
                    El enlace expirará en 24 horas por seguridad.
                </p>
            </div>

            <!-- Development Notice -->
            <div class="bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4">
                <div class="flex items-start gap-3">
                    <i class="fas fa-terminal text-yellow-600 dark:text-yellow-400 mt-0.5"></i>
                    <div class="text-left">
                        <p class="text-sm font-semibold text-yellow-800 dark:text-yellow-300">Modo Desarrollo</p>
                        <p class="text-xs text-yellow-700 dark:text-yellow-400 mt-1">
                            Revisa tu consola/terminal para ver el contenido del correo electrónico.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Actions -->
            <div class="flex flex-col sm:flex-row gap-3 pt-4">
                <a href="{% url 'accounts:dashboard' %}"
                    class="flex-1 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm hover:shadow transition-all duration-200 flex items-center justify-center gap-2">
                    <i class="fas fa-home"></i>
                    Volver al Dashboard
                </a>
                <a href="{% url 'accounts:mi_perfil' %}"
                    class="flex-1 px-6 py-3 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 font-medium rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-all duration-200 flex items-center justify-center gap-2">
                    <i class="fas fa-user"></i>
                    Mi Perfil
                </a>
            </div>
        </div>
    </div>

    <!-- Help Card -->
    <div class="bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800 rounded-xl p-4 flex items-start gap-3">
        <i class="fas fa-info-circle text-blue-500 mt-1"></i>
        <div>
            <h4 class="font-semibold text-blue-900 dark:text-blue-100 text-sm">¿No recibiste el correo?</h4>
            <p class="text-sm text-blue-800 dark:text-blue-200 mt-1">
                Revisa tu carpeta de spam o solicita un nuevo enlace desde la página de inicio de sesión.
            </p>
        </div>
    </div>
</div>

{% else %}
<!-- Version para usuario no autenticado -->
<div class="w-full max-w-md animate-slide-up">
    <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl overflow-hidden border border-gray-100 dark:border-gray-700">
        <!-- Success Header -->
        <div class="bg-gradient-to-r from-green-500 to-green-600 px-8 py-6 text-center">
            <div class="flex justify-center mb-4">
                <div class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm">
                    <i class="fas fa-check-circle text-4xl text-white"></i>
                </div>
            </div>
            <h2 class="text-2xl font-bold text-white mb-2">
                ¡Correo Enviado!
            </h2>
            <p class="text-green-100 text-sm">
                Revisa tu bandeja de entrada
            </p>
        </div>

        <!-- Content -->
        <div class="p-8 space-y-6">
            <!-- Success Icon -->
            <div class="flex justify-center">
                <div class="w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center">
                    <i class="fas fa-envelope-open-text text-3xl text-green-600 dark:text-green-400"></i>
                </div>
            </div>

            <!-- Message -->
            <div class="text-center space-y-3">
                <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
                    Instrucciones Enviadas
                </h3>
                <p class="text-gray-600 dark:text-gray-400 text-sm">
                    Hemos enviado las instrucciones para restablecer tu contraseña a tu correo electrónico.
                </p>
                <p class="text-xs text-gray-500 dark:text-gray-500">
                    El enlace expirará en 24 horas por seguridad.
                </p>
            </div>

            <!-- Development Notice -->
            <div class="bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4">
                <div class="flex items-start gap-3">
                    <i class="fas fa-terminal text-yellow-600 dark:text-yellow-400 text-sm mt-0.5"></i>
                    <div class="text-left">
                        <p class="text-xs font-semibold text-yellow-800 dark:text-yellow-300">Modo Desarrollo</p>
                        <p class="text-xs text-yellow-700 dark:text-yellow-400 mt-1">
                            Revisa tu consola/terminal para ver el correo.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Next Steps -->
            <div class="bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800 rounded-lg p-4">
                <h4 class="font-semibold text-blue-900 dark:text-blue-100 text-sm mb-2 flex items-center gap-2">
                    <i class="fas fa-list-ol"></i>
                    Próximos Pasos
                </h4>
                <ol class="text-xs text-blue-800 dark:text-blue-200 space-y-1.5 list-decimal list-inside">
                    <li>Revisa tu correo electrónico (y la carpeta de spam)</li>
                    <li>Haz clic en el enlace de restablecimiento</li>
                    <li>Crea una nueva contraseña segura</li>
                    <li>Inicia sesión con tu nueva contraseña</li>
                </ol>
            </div>

            <!-- Action Button -->
            <a href="{% url 'account_login' %}"
                class="w-full flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm hover:shadow-md transition-all duration-200">
                <i class="fas fa-arrow-left"></i>
                Volver al Inicio de Sesión
            </a>

            <!-- Help Text -->
            <div class="text-center pt-2">
                <p class="text-xs text-gray-500 dark:text-gray-400">
                    ¿No recibiste el correo?
                    <a href="{% url 'account_reset_password' %}" class="text-blue-600 dark:text-blue-400 hover:underline font-medium">
                        Solicitar nuevo enlace
                    </a>
                </p>
            </div>
        </div>
    </div>

    <!-- Footer Info -->
    <div class="mt-6 text-center">
        <p class="text-xs text-gray-500 dark:text-gray-400">
            Sistema de Control de Asistencia - Apartado B del Artículo 123
        </p>
    </div>
</div>
{% endif %}
{% endblock %}